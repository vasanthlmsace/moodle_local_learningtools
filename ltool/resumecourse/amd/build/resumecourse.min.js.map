{"version":3,"file":"resumecourse.min.js","sources":["../src/resumecourse.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Invite ltool define js.\n * @module   ltool_invite\n * @category  Classes - autoloading\n * @copyright 2021, bdecent gmbh bdecent.de\n * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\n define(['jquery', 'core/ajax', 'core/notification'],\n function($, Ajax, Notification) {\n\n    /* global ltools */\n\n    /**\n     * Controls resume course tool action.\n     * @param {object} params\n     */\n    function learningToolResumeCourseAction(params) {\n        var resumecourseinfo = document.querySelector(\".ltoolresumecourse-info #ltoolresumecourse-action\");\n        if (resumecourseinfo) {\n            resumecourseinfo.addEventListener(\"click\", function() {\n                if (typeof params == 'object') {\n                    params = JSON.stringify(params);\n                }\n                Ajax.call([{\n                    methodname: 'ltool_resumecourse_lastaccess_activity',\n                    args: {params: params},\n                    done: function(response) {\n                        if (response.url) {\n                            window.open(response.url, '_self');\n                        }\n                        if (response.message) {\n                            Notification.addNotification({\n                                message: response.message,\n                                type: \"success\"\n                            });\n                        }\n                        if (ltools.disappertimenotify != 0) {\n                            setTimeout(function() {\n                                document.querySelector(\"span.notifications\").innerHTML = \"\";\n                            }, ltools.disappertimenotify);\n                        }\n                    }\n                }]);\n            });\n\n            // Hover color.\n            var resumecoursehovercolor = resumecourseinfo.getAttribute(\"data-hovercolor\");\n            var resumecoursefontcolor = resumecourseinfo.getAttribute(\"data-fontcolor\");\n            if (resumecoursehovercolor && resumecoursefontcolor) {\n                resumecourseinfo.addEventListener(\"mouseover\", function() {\n                    document.querySelector('#ltoolresumecourse-info p').style.background = resumecoursehovercolor;\n                    document.querySelector('#ltoolresumecourse-info p').style.color = resumecoursefontcolor;\n                });\n            }\n        }\n    }\n\n    return {\n        init: function(params) {\n            learningToolResumeCourseAction(params);\n        }\n    };\n\n });"],"names":["define","$","Ajax","Notification","init","params","resumecourseinfo","document","querySelector","addEventListener","JSON","stringify","call","methodname","args","done","response","url","window","open","message","addNotification","type","ltools","disappertimenotify","setTimeout","innerHTML","resumecoursehovercolor","getAttribute","resumecoursefontcolor","style","background","color","learningToolResumeCourseAction"],"mappings":";;;;;;;AAuBCA,yCAAO,CAAC,SAAU,YAAa,sBAC/B,SAASC,EAAGC,KAAMC,oBAiDR,CACHC,KAAM,SAASC,kBA1CqBA,YAChCC,iBAAmBC,SAASC,cAAc,wDAC1CF,iBAAkB,CAClBA,iBAAiBG,iBAAiB,SAAS,WAClB,iBAAVJ,SACPA,OAASK,KAAKC,UAAUN,SAE5BH,KAAKU,KAAK,CAAC,CACPC,WAAY,yCACZC,KAAM,CAACT,OAAQA,QACfU,KAAM,SAASC,UACPA,SAASC,KACTC,OAAOC,KAAKH,SAASC,IAAK,SAE1BD,SAASI,SACTjB,aAAakB,gBAAgB,CACzBD,QAASJ,SAASI,QAClBE,KAAM,YAGmB,GAA7BC,OAAOC,oBACPC,YAAW,WACPlB,SAASC,cAAc,sBAAsBkB,UAAY,KAC1DH,OAAOC,+BAOtBG,uBAAyBrB,iBAAiBsB,aAAa,mBACvDC,sBAAwBvB,iBAAiBsB,aAAa,kBACtDD,wBAA0BE,uBAC1BvB,iBAAiBG,iBAAiB,aAAa,WAC3CF,SAASC,cAAc,6BAA6BsB,MAAMC,WAAaJ,uBACvEpB,SAASC,cAAc,6BAA6BsB,MAAME,MAAQH,0BAQ1EI,CAA+B5B"}