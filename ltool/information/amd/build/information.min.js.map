{"version":3,"file":"information.min.js","sources":["../src/information.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * information ltool define js.\n * @module   ltool_information\n * @category  Classes - autoloading\n * @copyright 2021, bdecent gmbh bdecent.de\n * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\n define(['jquery', 'core/modal_factory', 'core/str', 'core/fragment', 'core/modal_events', 'core/ajax', 'core/notification'],\n function($, ModalFactory, Str, Fragment, ModalEvents, Ajax, notification) {\n\n    /**\n     * Controls information tool action.\n     * @param {object} params\n     */\n    function learningToolinformationAction(params) {\n        showModalinformationtool(params);\n    }\n\n    /**\n     * Display the modal to course info.\n     * @param {object} params\n     */\n    function showModalinformationtool(params) {\n        var informationinfo = document.querySelector(\".ltoolinformation-info #ltoolinformation-action\");\n        if (informationinfo) {\n            informationinfo.addEventListener(\"click\", function() {\n                // Strinformationusers.\n                ModalFactory.create({\n                    title: params.coursename,\n                    type: ModalFactory.types.CANCEL,\n                    body: getCourseInfoModal(params),\n                    large: true\n                }).then(function(modal) {\n                    modal.show();\n                    modal.getRoot().on(ModalEvents.hidden, function() {\n                        modal.destroy();\n                    });\n                    return modal;\n                }).catch(notification.exception);\n            });\n            // Hover color.\n            var informationhovercolor = informationinfo.getAttribute(\"data-hovercolor\");\n            var informationfontcolor = informationinfo.getAttribute(\"data-fontcolor\");\n            if (informationhovercolor && informationfontcolor) {\n                informationinfo.addEventListener(\"mouseover\", function() {\n                    document.querySelector('#ltoolinformation-info p').style.background = informationhovercolor;\n                    document.querySelector('#ltoolinformation-info p').style.color = informationfontcolor;\n                });\n            }\n        }\n    }\n    /**\n     * Get course information Modal info.\n     * @param {object} params\n     * @return {string} course info html\n     */\n    function getCourseInfoModal(params) {\n        return Fragment.loadFragment('ltool_information', 'get_courseinformation', params.contextid, params);\n    }\n\n    return {\n        init: function(params) {\n            learningToolinformationAction(params);\n        }\n    };\n });"],"names":["define","$","ModalFactory","Str","Fragment","ModalEvents","Ajax","notification","learningToolinformationAction","params","informationinfo","document","querySelector","addEventListener","create","title","coursename","type","types","CANCEL","body","getCourseInfoModal","large","then","modal","show","getRoot","on","hidden","destroy","catch","exception","informationhovercolor","getAttribute","informationfontcolor","style","background","color","showModalinformationtool","loadFragment","contextid","init"],"mappings":";;;;;;;AAuBCA,uCAAO,CAAC,SAAU,qBAAsB,WAAY,gBAAiB,oBAAqB,YAAa,sBACvG,SAASC,EAAGC,aAAcC,IAAKC,SAAUC,YAAaC,KAAMC,uBAMhDC,8BAA8BC,kBAQLA,YAC1BC,gBAAkBC,SAASC,cAAc,sDACzCF,gBAAiB,CACjBA,gBAAgBG,iBAAiB,SAAS,WAEtCX,aAAaY,OAAO,CAChBC,MAAON,OAAOO,WACdC,KAAMf,aAAagB,MAAMC,OACzBC,KAAMC,mBAAmBZ,QACzBa,OAAO,IACRC,MAAK,SAASC,cACbA,MAAMC,OACND,MAAME,UAAUC,GAAGtB,YAAYuB,QAAQ,WACnCJ,MAAMK,aAEHL,SACRM,MAAMvB,aAAawB,kBAGtBC,sBAAwBtB,gBAAgBuB,aAAa,mBACrDC,qBAAuBxB,gBAAgBuB,aAAa,kBACpDD,uBAAyBE,sBACzBxB,gBAAgBG,iBAAiB,aAAa,WAC1CF,SAASC,cAAc,4BAA4BuB,MAAMC,WAAaJ,sBACtErB,SAASC,cAAc,4BAA4BuB,MAAME,MAAQH,yBA/B7EI,CAAyB7B,iBAyCpBY,mBAAmBZ,eACjBL,SAASmC,aAAa,oBAAqB,wBAAyB9B,OAAO+B,UAAW/B,cAG1F,CACHgC,KAAM,SAAShC,QACXD,8BAA8BC"}